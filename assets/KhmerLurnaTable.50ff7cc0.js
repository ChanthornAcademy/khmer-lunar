import{u as g,r as u,d as M,w as Y,o,c as r,a as e,i as K,v as w,F as y,j as _,t as l,n as x}from"./index.7dde8207.js";import{m as v,l as k}from"./moment-with-locales.5b31333c.js";const L={class:"flex items-center gap-2 p-2 mt-2"},B=e("label",null,"Year:",-1),N={class:"mb-3 overflow-x-auto mt-4 border rounded-xl"},F={class:"base-table2 w-full text-center font-nokora whitespace-nowrap"},E=e("thead",null,[e("tr",null,[e("th",null,"N\xBA"),e("th",null,"Day"),e("th",null,"Khmer Day"),e("th",null,"Month"),e("th",null,"Khmer Month"),e("th",null,"Year"),e("th",null,"Khmer Year"),e("th",null,"Animal Year"),e("th",null,"Khmer Year Name")])],-1),I=e("tr",null,[e("td",{colspan:"9",class:"!bg-gray-500 animate-pulse"},"Loading...")],-1),S=e("tr",null,[e("td",{colspan:"9",class:"!bg-gray-500 animate-pulse"},"Loading...")],-1),V=e("tr",null,[e("td",{colspan:"9",class:"!bg-gray-500 animate-pulse"},"Loading...")],-1),j=e("tr",null,[e("td",{colspan:"9",class:"!bg-gray-500 animate-pulse"},"Loading...")],-1),T={__name:"KhmerLurnaTable",setup(z){const{khmerDate:h}=g(),d=u(v().year()),p=u([]),m=u([]),i=u(!1);M(k.exports.debounce(()=>{for(let t=1900;t<=2900;t++)p.value.push(t);s.value.year=d.value},0));const s=u({year:null});Y(s.value,k.exports.debounce(()=>{d.value=s.value.year,f().then(()=>{i.value=!0})},200)),Y(s.value,()=>{i.value=!1});const f=async()=>{m.value.length=0;for(let t=0;t<12;t++){let c=v({y:d.value,M:t,d:1}).daysInMonth();for(let a=1;a<=c;a++){let n=v({y:d.value,M:t,d:a}),b={khDay:h.value(n).toKhDate("dN"),khMonth:h.value(n).toKhDate("m"),animalYear:h.value(n).toKhDate("a"),khYear:h.value(n).toKhDate("e"),beYear:D(n)};m.value.push({day:a,date:n,khDate:b})}}},D=t=>t.month()+1<=4?t.clone().add(543,"years").locale("km").format("YYYY"):t.clone().add(544,"years").locale("km").format("YYYY");return(t,c)=>(o(),r("div",null,[e("div",L,[B,K(e("select",{"onUpdate:modelValue":c[0]||(c[0]=a=>s.value.year=a),class:"border p-2 rounded-md"},[(o(!0),r(y,null,_(p.value,a=>(o(),r("option",{key:a},l(a),1))),128))],512),[[w,s.value.year]])]),e("div",N,[e("table",F,[E,e("tbody",null,[i.value?(o(!0),r(y,{key:0},_(m.value,(a,n)=>(o(),r("tr",{key:n,class:x(a.day===1?"row-success":"")},[e("td",null,l(n+1),1),e("td",null,l(a.day),1),e("td",null,l(a.khDate.khDay),1),e("td",null,l(a.date.format("MMMM")),1),e("td",null,l(a.khDate.khMonth),1),e("td",null,l(a.date.format("YYYY")),1),e("td",null,l(a.khDate.beYear),1),e("td",null,l(a.khDate.animalYear),1),e("td",null,l(a.khDate.khYear),1)],2))),128)):(o(),r(y,{key:1},[I,S,V,j],64))])])])]))}};export{T as default};
