import{u as g,r as u,m as v,d as M,w as _,o as s,c as o,a as e,p as K,v as w,F as y,i as k,t as l,n as x}from"./index.dc97188d.js";import{l as f}from"./lodash.e5c8ce12.js";const L={class:"flex items-center gap-2 p-2 mt-2"},B=e("label",null,"Year:",-1),N={class:"mb-3 overflow-x-auto mt-4 border rounded-xl"},F={class:"base-table2 w-full text-center font-nokora whitespace-nowrap"},E=e("thead",null,[e("tr",null,[e("th",null,"N\xBA"),e("th",null,"Day"),e("th",null,"Khmer Day"),e("th",null,"Month"),e("th",null,"Khmer Month"),e("th",null,"Year"),e("th",null,"Khmer Year"),e("th",null,"Animal Year"),e("th",null,"Khmer Year Name")])],-1),I=e("tr",null,[e("td",{colspan:"9",class:"!bg-gray-500 animate-pulse"},"Loading...")],-1),S=e("tr",null,[e("td",{colspan:"9",class:"!bg-gray-500 animate-pulse"},"Loading...")],-1),V=e("tr",null,[e("td",{colspan:"9",class:"!bg-gray-500 animate-pulse"},"Loading...")],-1),z=e("tr",null,[e("td",{colspan:"9",class:"!bg-gray-500 animate-pulse"},"Loading...")],-1),U={__name:"KhmerLurnaTable",setup(A){const{khmerDate:h}=g(),d=u(v().year()),p=u([]),i=u([]),c=u(!1);M(f.exports.debounce(()=>{Y().then(()=>{c.value=!0});for(let t=1900;t<=2900;t++)p.value.push(t)},200));const r=u({year:d.value});_(r.value,f.exports.debounce(()=>{d.value=r.value.year,Y().then(()=>{c.value=!0})},200)),_(r.value,()=>{c.value=!1});const Y=async()=>{i.value.length=0;for(let t=0;t<12;t++){let m=v({y:d.value,M:t,d:1}).daysInMonth();for(let a=1;a<=m;a++){let n=v({y:d.value,M:t,d:a}),b={khDay:h.value(n).toKhDate("dN"),khMonth:h.value(n).toKhDate("m"),animalYear:h.value(n).toKhDate("a"),khYear:h.value(n).toKhDate("e"),beYear:D(n)};i.value.push({day:a,date:n,khDate:b})}}},D=t=>t.month()+1<=4?t.clone().add(543,"years").locale("km").format("YYYY"):t.clone().add(544,"years").locale("km").format("YYYY");return(t,m)=>(s(),o("div",null,[e("div",L,[B,K(e("select",{"onUpdate:modelValue":m[0]||(m[0]=a=>r.value.year=a),class:"border p-2 rounded-md"},[(s(!0),o(y,null,k(p.value,a=>(s(),o("option",{key:a},l(a),1))),128))],512),[[w,r.value.year]])]),e("div",N,[e("table",F,[E,e("tbody",null,[c.value?(s(!0),o(y,{key:0},k(i.value,(a,n)=>(s(),o("tr",{key:n,class:x(a.day===1?"row-success":"")},[e("td",null,l(n+1),1),e("td",null,l(a.day),1),e("td",null,l(a.khDate.khDay),1),e("td",null,l(a.date.format("MMMM")),1),e("td",null,l(a.khDate.khMonth),1),e("td",null,l(a.date.format("YYYY")),1),e("td",null,l(a.khDate.beYear),1),e("td",null,l(a.khDate.animalYear),1),e("td",null,l(a.khDate.khYear),1)],2))),128)):(s(),o(y,{key:1},[I,S,V,z],64))])])])]))}};export{U as default};
